\ProvidesPackage{preamble/preamble}

% Compilation requirements; these "if"s are only used by the \ifuniversity
% condition, but they must be redefined here so that LaTeX does not complain
% when they are encountered, even if they are never processed.
\ifuniversity\else
\newif\ifenglishfrontpage
\englishfrontpagetrue
\fi

% Files
\usepackage{import}

% Geometry
\ifuniversity
\usepackage{booktabs}
\usepackage{hyperref}
\hypersetup{
    unicode=true,                     % non-Latin characters in bookmarks
    pdffitwindow=true,                % page fit to window when opened
    pdfnewwindow=true,                % links in new window
    pdfkeywords={},                   % list of keywords
    colorlinks=true,                  % false: boxed links; true: colored links
    linkcolor=black,                  % color of internal links
    citecolor=black,                  % color of links to bibliography
    filecolor=black,                  % color of file links
    urlcolor=black,                   % color of external links
    pdftitle={},                      % title
    pdfauthor={},                     % author
    pdfsubject={}                     % subject of the document
}
\else
\usepackage[lmargin=142pt,rmargin=95pt,tmargin=127pt,bmargin=123pt]{geometry}
\raggedbottom
\fi

% Input
% \usepackage[utf8]{inputenc}
% \usepackage[english]{babel}
\ifuniversity\else
\usepackage{fontspec}
\setmainfont{CMU Serif}
\setsansfont{CMU Sans Serif}
\newfontfamily{\greekfont}{CMU Serif}
\newfontfamily{\greekfontsf}{CMU Sans Serif}
\fi
\usepackage[Greek,Latin]{ucharclasses}
\usepackage{polyglossia}
\setdefaultlanguage{english}
\setotherlanguage{greek}
\setTransitionsForGreek{\selectlanguage{greek}}{\selectlanguage{english}}

% Formatting
\usepackage{color}
\usepackage{hyperref}
\usepackage{enumitem}
\usepackage{colortbl}
\usepackage{xcolor}
\definecolor{lightgray}{rgb}{0.83, 0.83, 0.83}

% Footnotes
\makeatletter
\newcommand\footnoteref[1]{\protected@xdef\@thefnmark{\ref{#1}}\@footnotemark}
\makeatother

% Graphics
\usepackage{graphicx}

% Math packages
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{thm-restate}

% Algorithmic packages
\usepackage{algorithm}
\usepackage{algpseudocode}

% Bibliography, index, appendix and sectioning
\usepackage[nottoc]{tocbibind}
\usepackage{makeidx}
\usepackage[symbols,nogroupskip,docdef=true]{glossaries-extra}
\usepackage[titletoc]{appendix}
\makeindex
\makeglossaries

\input{preamble/macros}
\input{preamble/hyphenation}
\input{preamble/title}
\input{preamble/environments}

\ifuniversity
\input{chapters/preface/university-metadata.tex}
\fi
